<?xml version = '1.0' encoding = 'UTF-8'?>
<StructuredType class="oracle.dbtools.crest.model.design.datatypes.StructuredType" name="T_SCHEMA_DDL" directorySegmentName="seg_0" id="4CDD2A0B-EB10-D22E-6836-DA5D2676D562">
<sourceConnName>oracle_tools@free</sourceConnName>
<sourceObjSchema>ORACLE_TOOLS</sourceObjSchema>
<sourceObjName>T_SCHEMA_DDL</sourceObjName>
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:38 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<predefined>false</predefined>
<final>false</final>
<instantiable>true</instantiable>
<attributes itemClass="oracle.dbtools.crest.model.design.datatypes.TypeElement">
<Attribute name="OBJ" id="9CFA02A3-A851-D794-3A59-313C43E2D09F">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<mandatory>false</mandatory>
<precision>0</precision>
<reference>false</reference>
<referencerelation>38C8B871-6588-E2DD-3AFF-DA2A639CCFA0</referencerelation>
<scale>0</scale>
<type>10BFC0E4-0AFA-B8D4-A7CD-972D9CA127A8</type>
<referenceID>38C8B871-6588-E2DD-3AFF-DA2A639CCFA0</referenceID>
</Attribute>
<Attribute name="DDL_TAB" id="771F1E8D-3A25-D584-F6B1-1D23B4B37C1B">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<mandatory>false</mandatory>
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<type>DOM3000004</type>
</Attribute>
</attributes>
<methods itemClass="oracle.dbtools.crest.model.design.datatypes.Method">
<Method name="CREATE_SCHEMA_DDL" id="68C877F4-65EA-ACB3-2AFA-F80A78860EC1">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'CREATE_SCHEMA_DDL (1)');
$end

  case
    /* T_COMMENT_DDL */
    when p_obj is of (oracle_tools.t_comment_object) then p_schema_ddl := oracle_tools.t_comment_ddl(p_obj, p_ddl_tab);
    /* T_CONSTRAINT_DDL */
    when p_obj is of (oracle_tools.t_constraint_object) then p_schema_ddl := oracle_tools.t_constraint_ddl(p_obj, p_ddl_tab);    
    /* T_INDEX_DDL */
    when p_obj is of (oracle_tools.t_index_object) then p_schema_ddl := oracle_tools.t_index_ddl(p_obj, p_ddl_tab);
    /* T_MATERIALIZED_VIEW_DDL */
    when p_obj is of (oracle_tools.t_materialized_view_object) then p_schema_ddl := oracle_tools.t_materialized_view_ddl(p_obj, p_ddl_tab);
    /* T_OBJECT_GRANT_DDL */
    when p_obj is of (oracle_tools.t_object_grant_object) then p_schema_ddl := oracle_tools.t_object_grant_ddl(p_obj, p_ddl_tab);
    /* T_PROCOBJ_DDL */
    when p_obj is of (oracle_tools.t_procobj_object) then p_schema_ddl := oracle_tools.t_procobj_ddl(p_obj, p_ddl_tab);
    /* T_REFRESH_GROUP_DDL */
    when p_obj is of (oracle_tools.t_refresh_group_object) then p_schema_ddl := oracle_tools.t_refresh_group_ddl(p_obj, p_ddl_tab);
    /* T_SEQUENCE_DDL */
    when p_obj is of (oracle_tools.t_sequence_object) then p_schema_ddl := oracle_tools.t_sequence_ddl(p_obj, p_ddl_tab);
    /* T_SYNONYM_DDL */
    when p_obj is of (oracle_tools.t_synonym_object) then p_schema_ddl := oracle_tools.t_synonym_ddl(p_obj, p_ddl_tab);
    -- oracle_tools.t_table_column_object inherits from oracle_tools.t_type_attribute_object
    /* T_TABLE_COLUMN_DDL */
    when p_obj is of (oracle_tools.t_table_column_object) then p_schema_ddl := oracle_tools.t_table_column_ddl(p_obj, p_ddl_tab);
    /* T_TABLE_DDL */
    when p_obj is of (oracle_tools.t_table_object) then p_schema_ddl := oracle_tools.t_table_ddl(p_obj, p_ddl_tab);
    /* T_TRIGGER_DDL */
    when p_obj is of (oracle_tools.t_trigger_object) then p_schema_ddl := oracle_tools.t_trigger_ddl(p_obj, p_ddl_tab);
    /* T_TYPE_ATTRIBUTE_DDL */
    when p_obj is of (oracle_tools.t_type_attribute_object) then p_schema_ddl := oracle_tools.t_type_attribute_ddl(p_obj, p_ddl_tab);
    /* T_TYPE_METHOD_DDL */
    when p_obj is of (oracle_tools.t_type_method_object) then p_schema_ddl := oracle_tools.t_type_method_ddl(p_obj, p_ddl_tab);
    /* T_TYPE_SPEC_DDL */
    when p_obj is of (oracle_tools.t_type_spec_object) then p_schema_ddl := oracle_tools.t_type_spec_ddl(p_obj, p_ddl_tab);
    -- GPA 2017-03-27 #142494703 The DDL generator should remove leading whitespace before WHEN clauses in triggers because that generates differences.
    else p_schema_ddl := oracle_tools.t_schema_ddl(p_obj, p_ddl_tab);
  end case;

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end
end create_schema_ddl;]]></body>
<number>1</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_OBJ" id="42952F3D-B69A-4913-0EDF-2D91DC84638B">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>10BFC0E4-0AFA-B8D4-A7CD-972D9CA127A8</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_DDL_TAB" id="3C621111-1487-6E5B-2452-A1B862BFDF2B">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT017</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SCHEMA_DDL" id="A76F4F81-51CA-C9CB-1ADC-2BFC0380750A">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
</parameters>
</Method>
<Method name="CREATE_SCHEMA_DDL" id="6C70745C-2991-2A61-CF83-BC258DDA71AA">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[  l_schema_ddl oracle_tools.t_schema_ddl;
begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'CREATE_SCHEMA_DDL (2)');
$end

  oracle_tools.t_schema_ddl.create_schema_ddl
  ( p_obj => p_obj
  , p_ddl_tab => p_ddl_tab
  , p_schema_ddl => l_schema_ddl
  );

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end

  return l_schema_ddl;
end create_schema_ddl;]]></body>
<number>2</number>
<returnValue class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="CREATE_SCHEMA_DDL" id="57E219A0-02A1-BD02-9C38-6E8350BCA39F">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</returnValue>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_OBJ" id="C2E81AAC-B88B-53A9-7B56-74DF80EAD1B8">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>10BFC0E4-0AFA-B8D4-A7CD-972D9CA127A8</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_DDL_TAB" id="89155665-B293-DE8D-5B47-AA238470CACF">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT017</typeID>
</Parameter>
</parameters>
</Method>
<Method name="PRINT" id="CED37D62-0E06-FB11-23AE-124DF844F70E">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 1 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'PRINT');
  self.obj.print();
  dbug.print(dbug."info", 'cardinality(self.ddl_tab): %s', case when self.ddl_tab is not null then self.ddl_tab.count end);
  if self.ddl_tab is not null and self.ddl_tab.count > 0
  then
    for i_idx in self.ddl_tab.first .. self.ddl_tab.last
    loop
      dbug.print(dbug."info", '*** ddl_tab(%s) ***', i_idx);
      self.ddl_tab(i_idx).print();
    end loop;
  end if;
  dbug.leave;
$else
  null;
$end
end print;]]></body>
<number>3</number>
</Method>
<Method name="ADD_DDL" id="2D770732-09B9-D62A-CC9C-794867A742CE">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'ADD_DDL (1)');
  dbug.print(dbug."input", 'self.obj.id: %s; self.ddl_tab.count: %s; p_text_tab.count: %s', self.obj.id, self.ddl_tab.count, case when p_text_tab is not null then p_text_tab.count end);
$end

  self.ddl_tab.extend(1);
  self.ddl_tab(self.ddl_tab.last) :=
    oracle_tools.t_ddl
    ( p_ddl# => self.ddl_tab.last
    , p_verb => p_verb
    , p_text_tab => p_text_tab
    );
  self.chk(null);

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end
end add_ddl;]]></body>
<number>4</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_VERB" id="B644761B-EE7C-445D-5776-366A0482E71B">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT024</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_TEXT_TAB" id="FF1E7E0E-F3B7-AFCE-449B-07A82C84A785">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>65B8C0C7-3DB1-AFA3-046A-99384CC4A2DC</typeID>
</Parameter>
</parameters>
</Method>
<Method name="ADD_DDL" id="A9132256-3086-586F-9331-84B551E4474C">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[  l_text_tab oracle_tools.t_text_tab;
begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'ADD_DDL (2)');
  dbug.print
  ( dbug."input"
  , 'p_verb: %s; p_text[1,100]: "%s"; p_add_sqlterminator: %s'
  , p_verb
  , dbms_lob.substr(lob_loc => p_text, amount => 100)
  , p_add_sqlterminator
  );
$end

  l_text_tab := oracle_tools.pkg_str_util.clob2text(p_text, 1); -- text
  -- ORA-20113: Object BC_PORTAL:INDEX:bcp_addresses_l1:BC_PORTAL::BCP_ADDRESSES:::: is not correct.
  if l_text_tab is not null and l_text_tab.count > 0
  then
    if p_add_sqlterminator > 0
    then
      l_text_tab.extend(1);
      l_text_tab(l_text_tab.last) := chr(10) || '/';
    end if;
    self.add_ddl
    ( p_verb => p_verb
    , p_text_tab => l_text_tab
    );
  end if;

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end
end add_ddl;]]></body>
<number>5</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_VERB" id="1760A147-566E-CDA9-C20A-8563E5AC4F27">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT024</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_TEXT" id="588D098A-3929-BAB5-FAFD-4050AC83EC50">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT028</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_ADD_SQLTERMINATOR" id="50CD13D3-1F5E-D4CE-730A-9E683BF5FB3D">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT011</typeID>
</Parameter>
</parameters>
</Method>
<Method name="MATCH" id="78640FC4-4733-7D8D-3668-D84039A77606">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[deterministic
is
  l_result integer := 0;
  l_count1 integer;
  l_count2 integer;
begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'MATCH');
$end

  case
    when p_schema_ddl is null
    then l_result := null;

    -- use the map function for the object
    when self.obj < p_schema_ddl.obj
    then l_result := -1;
    when self.obj > p_schema_ddl.obj
    then l_result := +1;

    -- objects the same
    else
      l_count1 := self.ddl_tab.count;
      l_count2 := p_schema_ddl.ddl_tab.count;

      case
        when l_count1 < l_count2
        then l_result := -2;
        when l_count1 > l_count2
        then l_result := +2;
        -- number of DDLs equal
        when l_count1 = 0 and l_count2 = 0
        then l_result := 0;
        -- number of DDLs equal and > 0
        else
          l_result := 0;
          for i_idx in self.ddl_tab.first .. self.ddl_tab.last
          loop
            if self.ddl_tab(i_idx) < p_schema_ddl.ddl_tab(i_idx)
            then
              l_result := - ( 3 + (i_idx - self.ddl_tab.first) );
              exit;
            elsif self.ddl_tab(i_idx) > p_schema_ddl.ddl_tab(i_idx)
            then
              l_result := + ( 3 + (i_idx - self.ddl_tab.first) );
              exit;
            end if;
          end loop;
      end case;
  end case;

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.print(dbug."output", 'return: %s', l_result);
  dbug.leave;
$end

  return l_result;
end match;]]></body>
<number>6</number>
<returnValue class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="MATCH" id="9D6A4EFE-D7C4-9F52-1B0B-3A22CD7AC1F4">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT011</typeID>
</returnValue>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SCHEMA_DDL" id="32A26A48-A11D-5FEF-F09A-6BE7FD72D4C4">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
</parameters>
</Method>
<Method name="INSTALL" id="67BB8208-C7D7-AA18-EF3A-92977E0D21DC">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'INSTALL');
$end

  for i_ddl_idx in p_source.ddl_tab.first .. p_source.ddl_tab.last
  loop
    self.add_ddl
    ( p_verb => p_source.ddl_tab(i_ddl_idx).verb()
    , p_text_tab => p_source.ddl_tab(i_ddl_idx).text_tab
    );
  end loop;

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end
end install;]]></body>
<number>7</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SOURCE" id="AFE863FF-52CD-2851-C132-7830EAE01599">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
</parameters>
</Method>
<Method name="MIGRATE" id="4037C271-EDFD-9C8C-2E22-F36BEFD034CE">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'MIGRATE');
$end

  oracle_tools.pkg_ddl_util.migrate_schema_ddl
  ( p_source => p_source
  , p_target => p_target
  , p_schema_ddl => p_schema_ddl
  );

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end
end migrate;]]></body>
<number>8</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SOURCE" id="D4E937AA-14C5-A776-3D0B-91A439981849">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_TARGET" id="30C9B6DC-C3C1-33FC-6AB3-B9479CA1D0C8">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SCHEMA_DDL" id="95583A19-0ED6-5B5D-C6A9-E77214BAC4C7">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
</parameters>
</Method>
<Method name="MIGRATE" id="45704528-B09B-6D61-9C2C-4453BBC18B77">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
  oracle_tools.t_schema_ddl.migrate
  ( p_source => p_source
  , p_target => p_target
  , p_schema_ddl => self
  );
end migrate;]]></body>
<number>9</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SOURCE" id="91669F5B-9E8B-D932-0E6A-F8E77C10C744">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_TARGET" id="2B3D27D1-2D9B-C1D6-89F3-97762B5CDCBF">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
</parameters>
</Method>
<Method name="UNINSTALL" id="88DCEBE2-ECA4-7223-E975-8DF1526F3C7A">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'UNINSTALL');
$end

  self.add_ddl
  ( p_verb => 'DROP'
  , p_text => 'DROP ' || p_target.obj.dict_object_type() || ' ' || p_target.obj.fq_object_name()
  , p_add_sqlterminator => case when oracle_tools.pkg_ddl_util.c_use_sqlterminator then 1 else 0 end
  );

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end
end uninstall;]]></body>
<number>10</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_TARGET" id="172D893E-E9D4-0CB4-8ECB-982500DBDDA1">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
</parameters>
</Method>
<Method name="CHK" id="5B313EA5-996D-1283-B011-5864CC18A30A">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'CHK');
$end

  if p_schema is not null
  then
    self.obj.chk(p_schema);
  end if;

  if self.ddl_tab is null or self.ddl_tab.count = 0
  then
    oracle_tools.pkg_ddl_error.raise_error(oracle_tools.pkg_ddl_error.c_invalid_parameters, 'The number of ddl statements must be at least 1', self.obj.schema_object_info());
  else
    for i_idx in self.ddl_tab.first .. self.ddl_tab.last
    loop
      if self.ddl_tab(i_idx).text_tab is null or self.ddl_tab(i_idx).text_tab.count = 0
      then
        oracle_tools.pkg_ddl_error.raise_error(oracle_tools.pkg_ddl_error.c_invalid_parameters, 'There is no ddl text for ddl statement ' || i_idx, self.obj.schema_object_info());
        self.ddl_tab(i_idx).chk();
      end if;
    end loop;
  end if;

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
exception
  when others
  then
    dbug.leave_on_error;
    raise;
$end
end chk;]]></body>
<number>11</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SCHEMA" id="1D936A9C-7344-BB57-1EB3-2A6A46047156">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT024</typeID>
</Parameter>
</parameters>
</Method>
<Method name="EXECUTE_DDL" id="92BAC2FC-6309-900A-87C0-0FA63488F5E3">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[  l_part_tab dbms_sql.varchar2a;
  l_verb_tab dbms_sql.varchar2a;
  l_schema_ddl oracle_tools.t_schema_ddl;
begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'EXECUTE_DDL (1)');
$end

  oracle_tools.pkg_str_util.split(p_str => p_id, p_delimiter => ':', p_str_tab => l_part_tab);
  oracle_tools.pkg_str_util.split(p_str => p_text, p_delimiter => ' ', p_str_tab => l_verb_tab);

  l_schema_ddl :=
    oracle_tools.t_schema_ddl.create_schema_ddl
    ( p_obj => oracle_tools.t_schema_object.create_schema_object
               ( p_object_schema => l_part_tab(l_part_tab.first+0)
               , p_object_type => l_part_tab(l_part_tab.first+1)
               , p_object_name => l_part_tab(l_part_tab.first+2)
               , p_base_object_schema => l_part_tab(l_part_tab.first+3)
               , p_base_object_type => l_part_tab(l_part_tab.first+4)
               , p_base_object_name => l_part_tab(l_part_tab.first+5)
               , p_column_name => l_part_tab(l_part_tab.first+6)
               , p_grantee => l_part_tab(l_part_tab.first+7)
               , p_privilege => l_part_tab(l_part_tab.first+8)
               , p_grantable => l_part_tab(l_part_tab.first+9)
               )
    , p_ddl_tab => oracle_tools.t_ddl_tab(oracle_tools.t_ddl(p_ddl# => 1, p_verb => l_verb_tab(l_verb_tab.first+0), p_text_tab => oracle_tools.t_text_tab(p_text)))
    );
  l_schema_ddl.execute_ddl();

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
$end
exception
  when others
  then
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
    dbug.leave_on_error;
$end
    oracle_tools.pkg_ddl_error.reraise_error
    ( '# parts: ' || l_part_tab.count ||
      '; part #0: ' || case when l_part_tab.count >= l_part_tab.first+0 then l_part_tab(l_part_tab.first+0) end ||
      '; part #1: ' || case when l_part_tab.count >= l_part_tab.first+1 then l_part_tab(l_part_tab.first+1) end ||
      '; part #2: ' || case when l_part_tab.count >= l_part_tab.first+2 then l_part_tab(l_part_tab.first+2) end ||
      '; part #3: ' || case when l_part_tab.count >= l_part_tab.first+3 then l_part_tab(l_part_tab.first+3) end ||
      '; part #4: ' || case when l_part_tab.count >= l_part_tab.first+4 then l_part_tab(l_part_tab.first+4) end ||
      '; part #5: ' || case when l_part_tab.count >= l_part_tab.first+5 then l_part_tab(l_part_tab.first+5) end ||
      '; part #6: ' || case when l_part_tab.count >= l_part_tab.first+6 then l_part_tab(l_part_tab.first+6) end ||
      '; part #7: ' || case when l_part_tab.count >= l_part_tab.first+7 then l_part_tab(l_part_tab.first+7) end ||
      '; part #8: ' || case when l_part_tab.count >= l_part_tab.first+8 then l_part_tab(l_part_tab.first+8) end ||
      '; part #9: ' || case when l_part_tab.count >= l_part_tab.first+8 then l_part_tab(l_part_tab.first+9) end ||
      '; verb #0: ' || case when l_verb_tab.count >= l_verb_tab.first+0 then l_verb_tab(l_verb_tab.first+0) end
    );
end execute_ddl;]]></body>
<number>12</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_ID" id="29093C17-1BC1-F85C-F85D-E1AD1B23F03E">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT024</typeID>
</Parameter>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_TEXT" id="C8111295-3EC5-EB84-2A6F-D96068C8B6A9">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>LOGDT024</typeID>
</Parameter>
</parameters>
</Method>
<Method name="EXECUTE_DDL" id="02A3D293-B873-76E2-2584-496E4A55D0BB">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'EXECUTE_DDL (2)');
  self.obj.print();
$end

  oracle_tools.t_schema_ddl.execute_ddl(p_schema_ddl => self);

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
exception
  when others
  then
    dbug.leave_on_error;
$end
end execute_ddl;]]></body>
<number>13</number>
</Method>
<Method name="EXECUTE_DDL" id="27D1D1A2-4AF5-AAA4-D82C-4DC1BF70E015">
<createdBy>gpaulissen</createdBy>
<createdTime>2024-11-25 09:19:43 UTC</createdTime>
<ownerDesignName>ddl</ownerDesignName>
<body><![CDATA[begin
$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.enter($$PLSQL_UNIT_OWNER || '.' || $$PLSQL_UNIT || '.' || 'EXECUTE_DDL (3)');
$end

  execute immediate p_schema_ddl.ddl_tab(1).text_tab(1);

$if oracle_tools.cfg_pkg.c_debugging and oracle_tools.pkg_ddl_util.c_debugging >= 2 $then
  dbug.leave;
exception
  when others
  then
    dbug.leave_on_error;
$end
end execute_ddl;
]]></body>
<number>14</number>
<parameters>
<Parameter class="oracle.dbtools.crest.model.design.datatypes.MethodParam" name="P_SCHEMA_DDL" id="CDAD0026-2D8C-4330-A9A5-5EB690A0989F">
<precision>0</precision>
<reference>false</reference>
<scale>0</scale>
<typeID>4CDD2A0B-EB10-D22E-6836-DA5D2676D562</typeID>
</Parameter>
</parameters>
</Method>
</methods>
</StructuredType>
